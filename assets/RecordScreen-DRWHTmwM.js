import{u as Mt}from"./eventStore-DFZ9vzYp.js";import{d as Nt,e as Tt,o as Rt,c as Ot,a as xe,b as v,w as T,r as Y,f as ie}from"./index-ChLkib44.js";var W;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(W||(W={}));function Ft(e){return e.nodeType===e.ELEMENT_NODE}function ye(e){var t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Se(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Et(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function We(e){try{var t=e.rules||e.cssRules;return t?Et(Array.from(t).map(tt).join("")):null}catch{return null}}function tt(e){var t=e.cssText;if(Lt(e))try{t=We(e.styleSheet)||t}catch{}return t}function Lt(e){return"styleSheet"in e}var rt=function(){function e(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}return e.prototype.getId=function(t){var r;if(!t)return-1;var n=(r=this.getMeta(t))===null||r===void 0?void 0:r.id;return n??-1},e.prototype.getNode=function(t){return this.idNodeMap.get(t)||null},e.prototype.getIds=function(){return Array.from(this.idNodeMap.keys())},e.prototype.getMeta=function(t){return this.nodeMetaMap.get(t)||null},e.prototype.removeNodeFromMap=function(t){var r=this,n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(function(o){return r.removeNodeFromMap(o)})},e.prototype.has=function(t){return this.idNodeMap.has(t)},e.prototype.hasNode=function(t){return this.nodeMetaMap.has(t)},e.prototype.add=function(t,r){var n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)},e.prototype.replace=function(t,r){var n=this.getNode(t);if(n){var o=this.nodeMetaMap.get(n);o&&this.nodeMetaMap.set(r,o)}this.idNodeMap.set(t,r)},e.prototype.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},e}();function xt(){return new rt}function Ge(e){var t=e.maskInputOptions,r=e.tagName,n=e.type,o=e.value,a=e.maskInputFn,l=o||"";return(t[r.toLowerCase()]||t[n])&&(a?l=a(l):l="*".repeat(l.length)),l}var Ue="__rrweb_original__";function _t(e){var t=e.getContext("2d");if(!t)return!0;for(var r=50,n=0;n<e.width;n+=r)for(var o=0;o<e.height;o+=r){var a=t.getImageData,l=Ue in a?a[Ue]:a,s=new Uint32Array(l.call(t,n,o,Math.min(r,e.width-n),Math.min(r,e.height-o)).data.buffer);if(s.some(function(d){return d!==0}))return!1}return!0}var Dt=1,Wt=new RegExp("[^a-z0-9-_:]"),be=-2;function nt(){return Dt++}function Vt(e){if(e instanceof HTMLFormElement)return"form";var t=e.tagName.toLowerCase().trim();return Wt.test(t)?"div":t}function Bt(e){return e.cssRules?Array.from(e.cssRules).map(function(t){return t.cssText||""}).join(""):""}function Gt(e){var t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var ce,Ke,Zt=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ut=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,Kt=/^(data:)([^,]*),(.*)/i;function Te(e,t){return(e||"").replace(Zt,function(r,n,o,a,l,s){var d=o||l||s,i=n||a||"";if(!d)return r;if(!Ut.test(d)||Kt.test(d))return"url(".concat(i).concat(d).concat(i,")");if(d[0]==="/")return"url(".concat(i).concat(Gt(t)+d).concat(i,")");var u=t.split("/"),c=d.split("/");u.pop();for(var p=0,h=c;p<h.length;p++){var f=h[p];f!=="."&&(f===".."?u.pop():u.push(f))}return"url(".concat(i).concat(u.join("/")).concat(i,")")})}var zt=/^[^ \t\n\r\u000c]+/,Yt=/^[, \t\n\r\u000c]+/;function Ht(e,t){if(t.trim()==="")return t;var r=0;function n(i){var u,c=i.exec(t.substring(r));return c?(u=c[0],r+=u.length,u):""}for(var o=[];n(Yt),!(r>=t.length);){var a=n(zt);if(a.slice(-1)===",")a=pe(e,a.substring(0,a.length-1)),o.push(a);else{var l="";a=pe(e,a);for(var s=!1;;){var d=t.charAt(r);if(d===""){o.push((a+l).trim());break}else if(s)d===")"&&(s=!1);else if(d===","){r+=1,o.push((a+l).trim());break}else d==="("&&(s=!0);l+=d,r+=1}}}return o.join(", ")}function pe(e,t){if(!t||t.trim()==="")return t;var r=e.createElement("a");return r.href=t,r.href}function Jt(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Ze(){var e=document.createElement("a");return e.href="",e.href}function ot(e,t,r,n){return r==="src"||r==="href"&&n&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n&&n[0]!=="#"||r==="background"&&n&&(t==="table"||t==="td"||t==="th")?pe(e,n):r==="srcset"&&n?Ht(e,n):r==="style"&&n?Te(n,Ze()):t==="object"&&r==="data"&&n?pe(e,n):n}function Qt(e,t,r){if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(var n=e.classList.length;n--;){var o=e.classList[n];if(t.test(o))return!0}return r?e.matches(r):!1}function Re(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return r?Re(e.parentNode,t,r):!1;for(var n=e.classList.length;n--;){var o=e.classList[n];if(t.test(o))return!0}return r?Re(e.parentNode,t,r):!1}function it(e,t,r){var n=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(n===null)return!1;if(typeof t=="string"){if(n.classList.contains(t)||n.closest(".".concat(t)))return!0}else if(Re(n,t,!0))return!0;return!!(r&&(n.matches(r)||n.closest(r)))}function Pt(e,t,r){var n=e.contentWindow;if(n){var o=!1,a;try{a=n.document.readyState}catch{return}if(a!=="complete"){var l=setTimeout(function(){o||(t(),o=!0)},r);e.addEventListener("load",function(){clearTimeout(l),o=!0,t()});return}var s="about:blank";if(n.location.href!==s||e.src===s||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}}function Xt(e,t,r){var n=!1,o;try{o=e.sheet}catch{return}if(!o){var a=setTimeout(function(){n||(t(),n=!0)},r);e.addEventListener("load",function(){clearTimeout(a),n=!0,t()})}}function jt(e,t){var r=t.doc,n=t.mirror,o=t.blockClass,a=t.blockSelector,l=t.maskTextClass,s=t.maskTextSelector,d=t.inlineStylesheet,i=t.maskInputOptions,u=i===void 0?{}:i,c=t.maskTextFn,p=t.maskInputFn,h=t.dataURLOptions,f=h===void 0?{}:h,I=t.inlineImages,b=t.recordCanvas,C=t.keepIframeSrcFn,g=t.newlyAddedElement,m=g===void 0?!1:g,w=qt(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:W.Document,childNodes:[],compatMode:e.compatMode}:{type:W.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:W.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return er(e,{doc:r,blockClass:o,blockSelector:a,inlineStylesheet:d,maskInputOptions:u,maskInputFn:p,dataURLOptions:f,inlineImages:I,recordCanvas:b,keepIframeSrcFn:C,newlyAddedElement:m,rootId:w});case e.TEXT_NODE:return $t(e,{maskTextClass:l,maskTextSelector:s,maskTextFn:c,rootId:w});case e.CDATA_SECTION_NODE:return{type:W.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:W.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function qt(e,t){if(t.hasNode(e)){var r=t.getId(e);return r===1?void 0:r}}function $t(e,t){var r,n=t.maskTextClass,o=t.maskTextSelector,a=t.maskTextFn,l=t.rootId,s=e.parentNode&&e.parentNode.tagName,d=e.textContent,i=s==="STYLE"?!0:void 0,u=s==="SCRIPT"?!0:void 0;if(i&&d){try{e.nextSibling||e.previousSibling||!((r=e.parentNode.sheet)===null||r===void 0)&&r.cssRules&&(d=Bt(e.parentNode.sheet))}catch(c){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(c),e)}d=Te(d,Ze())}return u&&(d="SCRIPT_PLACEHOLDER"),!i&&!u&&d&&it(e,n,o)&&(d=a?a(d):d.replace(/[\S]/g,"*")),{type:W.Text,textContent:d||"",isStyle:i,rootId:l}}function er(e,t){for(var r=t.doc,n=t.blockClass,o=t.blockSelector,a=t.inlineStylesheet,l=t.maskInputOptions,s=l===void 0?{}:l,d=t.maskInputFn,i=t.dataURLOptions,u=i===void 0?{}:i,c=t.inlineImages,p=t.recordCanvas,h=t.keepIframeSrcFn,f=t.newlyAddedElement,I=f===void 0?!1:f,b=t.rootId,C=Qt(e,n,o),g=Vt(e),m={},w=e.attributes.length,D=0;D<w;D++){var E=e.attributes[D];m[E.name]=ot(r,g,E.name,E.value)}if(g==="link"&&a){var L=Array.from(r.styleSheets).find(function(P){return P.href===e.href}),S=null;L&&(S=We(L)),S&&(delete m.rel,delete m.href,m._cssText=Te(S,L.href))}if(g==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var S=We(e.sheet);S&&(m._cssText=Te(S,Ze()))}if(g==="input"||g==="textarea"||g==="select"){var H=e.value,J=e.checked;m.type!=="radio"&&m.type!=="checkbox"&&m.type!=="submit"&&m.type!=="button"&&H?m.value=Ge({type:m.type,tagName:g,value:H,maskInputOptions:s,maskInputFn:d}):J&&(m.checked=J)}if(g==="option"&&(e.selected&&!s.select?m.selected=!0:delete m.selected),g==="canvas"&&p){if(e.__context==="2d")_t(e)||(m.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){var j=e.toDataURL(u.type,u.quality),q=document.createElement("canvas");q.width=e.width,q.height=e.height;var $=q.toDataURL(u.type,u.quality);j!==$&&(m.rr_dataURL=j)}}if(g==="img"&&c){ce||(ce=r.createElement("canvas"),Ke=ce.getContext("2d"));var x=e,Q=x.crossOrigin;x.crossOrigin="anonymous";var ee=function(){try{ce.width=x.naturalWidth,ce.height=x.naturalHeight,Ke.drawImage(x,0,0),m.rr_dataURL=ce.toDataURL(u.type,u.quality)}catch(P){console.warn("Cannot inline img src=".concat(x.currentSrc,"! Error: ").concat(P))}Q?m.crossOrigin=Q:x.removeAttribute("crossorigin")};x.complete&&x.naturalWidth!==0?ee():x.onload=ee}if((g==="audio"||g==="video")&&(m.rr_mediaState=e.paused?"paused":"played",m.rr_mediaCurrentTime=e.currentTime),I||(e.scrollLeft&&(m.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(m.rr_scrollTop=e.scrollTop)),C){var ne=e.getBoundingClientRect(),ae=ne.width,U=ne.height;m={class:m.class,rr_width:"".concat(ae,"px"),rr_height:"".concat(U,"px")}}return g==="iframe"&&!h(m.src)&&(e.contentDocument||(m.rr_src=m.src),delete m.src),{type:W.Element,tagName:g,attributes:m,childNodes:[],isSVG:Jt(e)||void 0,needBlock:C,rootId:b}}function N(e){return e===void 0?"":e.toLowerCase()}function tr(e,t){if(t.comment&&e.type===W.Comment)return!0;if(e.type===W.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&e.attributes.rel==="preload"&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(N(e.attributes.name).match(/^msapplication-tile(image|color)$/)||N(e.attributes.name)==="application-name"||N(e.attributes.rel)==="icon"||N(e.attributes.rel)==="apple-touch-icon"||N(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&N(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(N(e.attributes.property).match(/^(og|twitter|fb):/)||N(e.attributes.name).match(/^(og|twitter):/)||N(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(N(e.attributes.name)==="robots"||N(e.attributes.name)==="googlebot"||N(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(N(e.attributes.name)==="author"||N(e.attributes.name)==="generator"||N(e.attributes.name)==="framework"||N(e.attributes.name)==="publisher"||N(e.attributes.name)==="progid"||N(e.attributes.property).match(/^article:/)||N(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(N(e.attributes.name)==="google-site-verification"||N(e.attributes.name)==="yandex-verification"||N(e.attributes.name)==="csrf-token"||N(e.attributes.name)==="p:domain_verify"||N(e.attributes.name)==="verify-v1"||N(e.attributes.name)==="verification"||N(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function he(e,t){var r=t.doc,n=t.mirror,o=t.blockClass,a=t.blockSelector,l=t.maskTextClass,s=t.maskTextSelector,d=t.skipChild,i=d===void 0?!1:d,u=t.inlineStylesheet,c=u===void 0?!0:u,p=t.maskInputOptions,h=p===void 0?{}:p,f=t.maskTextFn,I=t.maskInputFn,b=t.slimDOMOptions,C=t.dataURLOptions,g=C===void 0?{}:C,m=t.inlineImages,w=m===void 0?!1:m,D=t.recordCanvas,E=D===void 0?!1:D,L=t.onSerialize,S=t.onIframeLoad,H=t.iframeLoadTimeout,J=H===void 0?5e3:H,j=t.onStylesheetLoad,q=t.stylesheetLoadTimeout,$=q===void 0?5e3:q,x=t.keepIframeSrcFn,Q=x===void 0?function(){return!1}:x,ee=t.newlyAddedElement,ne=ee===void 0?!1:ee,ae=t.preserveWhiteSpace,U=ae===void 0?!0:ae,P=jt(e,{doc:r,mirror:n,blockClass:o,blockSelector:a,maskTextClass:l,maskTextSelector:s,inlineStylesheet:c,maskInputOptions:h,maskTextFn:f,maskInputFn:I,dataURLOptions:g,inlineImages:w,recordCanvas:E,keepIframeSrcFn:Q,newlyAddedElement:ne});if(!P)return console.warn(e,"not serialized"),null;var se;n.hasNode(e)?se=n.getId(e):tr(P,b)||!U&&P.type===W.Text&&!P.isStyle&&!P.textContent.replace(/^\s+|\s+$/gm,"").length?se=be:se=nt();var F=Object.assign(P,{id:se});if(n.add(e,F),se===be)return null;L&&L(e);var te=!i;if(F.type===W.Element){te=te&&!F.needBlock,delete F.needBlock;var oe=e.shadowRoot;oe&&Se(oe)&&(F.isShadowHost=!0)}if((F.type===W.Document||F.type===W.Element)&&te){b.headWhitespace&&F.type===W.Element&&F.tagName==="head"&&(U=!1);for(var ue={doc:r,mirror:n,blockClass:o,blockSelector:a,maskTextClass:l,maskTextSelector:s,skipChild:i,inlineStylesheet:c,maskInputOptions:h,maskTextFn:f,maskInputFn:I,slimDOMOptions:b,dataURLOptions:g,inlineImages:w,recordCanvas:E,preserveWhiteSpace:U,onSerialize:L,onIframeLoad:S,iframeLoadTimeout:J,onStylesheetLoad:j,stylesheetLoadTimeout:$,keepIframeSrcFn:Q},y=0,V=Array.from(e.childNodes);y<V.length;y++){var K=V[y],R=he(K,ue);R&&F.childNodes.push(R)}if(Ft(e)&&e.shadowRoot)for(var X=0,M=Array.from(e.shadowRoot.childNodes);X<M.length;X++){var K=M[X],R=he(K,ue);R&&(Se(e.shadowRoot)&&(R.isShadow=!0),F.childNodes.push(R))}}return e.parentNode&&ye(e.parentNode)&&Se(e.parentNode)&&(F.isShadow=!0),F.type===W.Element&&F.tagName==="iframe"&&Pt(e,function(){var z=e.contentDocument;if(z&&S){var Ce=he(z,{doc:z,mirror:n,blockClass:o,blockSelector:a,maskTextClass:l,maskTextSelector:s,skipChild:!1,inlineStylesheet:c,maskInputOptions:h,maskTextFn:f,maskInputFn:I,slimDOMOptions:b,dataURLOptions:g,inlineImages:w,recordCanvas:E,preserveWhiteSpace:U,onSerialize:L,onIframeLoad:S,iframeLoadTimeout:J,onStylesheetLoad:j,stylesheetLoadTimeout:$,keepIframeSrcFn:Q});Ce&&S(e,Ce)}},J),F.type===W.Element&&F.tagName==="link"&&F.attributes.rel==="stylesheet"&&Xt(e,function(){if(j){var z=he(e,{doc:r,mirror:n,blockClass:o,blockSelector:a,maskTextClass:l,maskTextSelector:s,skipChild:!1,inlineStylesheet:c,maskInputOptions:h,maskTextFn:f,maskInputFn:I,slimDOMOptions:b,dataURLOptions:g,inlineImages:w,recordCanvas:E,preserveWhiteSpace:U,onSerialize:L,onIframeLoad:S,iframeLoadTimeout:J,onStylesheetLoad:j,stylesheetLoadTimeout:$,keepIframeSrcFn:Q});z&&j(e,z)}},$),F}function rr(e,t){var r=t,n=r.mirror,o=n===void 0?new rt:n,a=r.blockClass,l=a===void 0?"rr-block":a,s=r.blockSelector,d=s===void 0?null:s,i=r.maskTextClass,u=i===void 0?"rr-mask":i,c=r.maskTextSelector,p=c===void 0?null:c,h=r.inlineStylesheet,f=h===void 0?!0:h,I=r.inlineImages,b=I===void 0?!1:I,C=r.recordCanvas,g=C===void 0?!1:C,m=r.maskAllInputs,w=m===void 0?!1:m,D=r.maskTextFn,E=r.maskInputFn,L=r.slimDOM,S=L===void 0?!1:L,H=r.dataURLOptions,J=r.preserveWhiteSpace,j=r.onSerialize,q=r.onIframeLoad,$=r.iframeLoadTimeout,x=r.onStylesheetLoad,Q=r.stylesheetLoadTimeout,ee=r.keepIframeSrcFn,ne=ee===void 0?function(){return!1}:ee,ae=w===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:w===!1?{password:!0}:w,U=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S;return he(e,{doc:e,mirror:o,blockClass:l,blockSelector:d,maskTextClass:u,maskTextSelector:p,skipChild:!1,inlineStylesheet:f,maskInputOptions:ae,maskTextFn:D,maskInputFn:E,slimDOMOptions:U,dataURLOptions:H,inlineImages:b,recordCanvas:g,preserveWhiteSpace:J,onSerialize:j,onIframeLoad:q,iframeLoadTimeout:$,onStylesheetLoad:x,stylesheetLoadTimeout:Q,keepIframeSrcFn:ne,newlyAddedElement:!1})}function G(e,t,r=document){const n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}const fe=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let ze={map:{},getId(){return console.error(fe),-1},getNode(){return console.error(fe),null},removeNodeFromMap(){console.error(fe)},has(){return console.error(fe),!1},reset(){console.error(fe)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(ze=new Proxy(ze,{get(e,t,r){return t==="map"&&console.error(fe),Reflect.get(e,t,r)}}));function Ae(e,t,r={}){let n=null,o=0;return function(...a){const l=Date.now();!o&&r.leading===!1&&(o=l);const s=t-(l-o),d=this;s<=0||s>t?(n&&(clearTimeout(n),n=null),o=l,e.apply(d,a)):!n&&r.trailing!==!1&&(n=setTimeout(()=>{o=r.leading===!1?0:Date.now(),n=null,e.apply(d,a)},s))}}function Ee(e,t,r,n,o=window){const a=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,n?r:{set(l){setTimeout(()=>{r.set.call(this,l)},0),a&&a.set&&a.set.call(this,l)}}),()=>Ee(e,t,a||{},!0)}function me(e,t,r){try{if(!(t in e))return()=>{};const n=e[t],o=r(n);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,()=>{e[t]=n}}catch{return()=>{}}}function at(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function st(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Z(e,t,r,n){if(!e)return!1;const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!o)return!1;if(typeof t=="string"){if(o.classList.contains(t)||n&&o.closest("."+t)!==null)return!0}else if(Re(o,t,n))return!0;return!!(r&&(e.matches(r)||n&&o.closest(r)!==null))}function nr(e,t){return t.getId(e)!==-1}function _e(e,t){return t.getId(e)===be}function dt(e,t){if(ye(e))return!1;const r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?dt(e.parentNode,t):!0:!0}function lt(e){return!!e.changedTouches}function or(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function ut(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function ct(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function ft(e){return!!(e!=null&&e.shadowRoot)}class ir{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var r;return(r=this.styleIDMap.get(t))!==null&&r!==void 0?r:-1}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}var k=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(k||{}),A=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e))(A||{}),Ve=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ve||{}),Ie=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Ie||{});function Ye(e){return"__ln"in e}class ar{constructor(){this.length=0,this.head=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=(r==null?void 0:r.next)||null;return r}addNode(t){const r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&Ye(t.previousSibling)){const n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&Ye(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;this.length++}removeNode(t){const r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next&&(r.next.previous=r.previous)):(this.head=r.next,this.head&&(this.head.previous=null)),t.__ln&&delete t.__ln,this.length--)}}const He=(e,t)=>`${e}@${t}`;class sr{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],r=new ar,n=s=>{let d=s,i=be;for(;i===be;)d=d&&d.nextSibling,i=d&&this.mirror.getId(d);return i},o=s=>{var d,i,u,c;let p=null;((i=(d=s.getRootNode)===null||d===void 0?void 0:d.call(s))===null||i===void 0?void 0:i.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&s.getRootNode().host&&(p=s.getRootNode().host);let h=p;for(;((c=(u=h==null?void 0:h.getRootNode)===null||u===void 0?void 0:u.call(h))===null||c===void 0?void 0:c.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&h.getRootNode().host;)h=h.getRootNode().host;const f=!this.doc.contains(s)&&(!h||!this.doc.contains(h));if(!s.parentNode||f)return;const I=ye(s.parentNode)?this.mirror.getId(p):this.mirror.getId(s.parentNode),b=n(s);if(I===-1||b===-1)return r.addNode(s);const C=he(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:g=>{ut(g,this.mirror)&&this.iframeManager.addIframe(g),ct(g,this.mirror)&&this.stylesheetManager.trackLinkElement(g),ft(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(g,m)=>{this.iframeManager.attachIframe(g,m),this.shadowDomManager.observeAttachShadow(g)},onStylesheetLoad:(g,m)=>{this.stylesheetManager.attachLinkElement(g,m)}});C&&t.push({parentId:I,nextId:b,node:C})};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const s of Array.from(this.movedSet.values()))Je(this.removes,s,this.mirror)&&!this.movedSet.has(s.parentNode)||o(s);for(const s of Array.from(this.addedSet.values()))!Qe(this.droppedSet,s)&&!Je(this.removes,s,this.mirror)||Qe(this.movedSet,s)?o(s):this.droppedSet.add(s);let a=null;for(;r.length;){let s=null;if(a){const d=this.mirror.getId(a.value.parentNode),i=n(a.value);d!==-1&&i!==-1&&(s=a)}if(!s)for(let d=r.length-1;d>=0;d--){const i=r.get(d);if(i){const u=this.mirror.getId(i.value.parentNode);if(n(i.value)===-1)continue;if(u!==-1){s=i;break}else{const p=i.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){s=i;break}}}}}if(!s){for(;r.head;)r.removeNode(r.head.value);break}a=s.previous,r.removeNode(s.value),o(s.value)}const l={texts:this.texts.map(s=>({id:this.mirror.getId(s.node),value:s.value})).filter(s=>this.mirror.has(s.id)),attributes:this.attributes.map(s=>({id:this.mirror.getId(s.node),attributes:s.attributes})).filter(s=>this.mirror.has(s.id)),removes:this.removes,adds:t};!l.texts.length&&!l.attributes.length&&!l.removes.length&&!l.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(l))},this.processMutation=t=>{if(!_e(t.target,this.mirror))switch(t.type){case"characterData":{const r=t.target.textContent;!Z(t.target,this.blockClass,this.blockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:it(t.target,this.maskTextClass,this.maskTextSelector)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{const r=t.target;let n=t.target.getAttribute(t.attributeName);if(t.attributeName==="value"&&(n=Ge({maskInputOptions:this.maskInputOptions,tagName:t.target.tagName,type:t.target.getAttribute("type"),value:n,maskInputFn:this.maskInputFn})),Z(t.target,this.blockClass,this.blockSelector,!1)||n===t.oldValue)return;let o=this.attributes.find(a=>a.node===t.target);if(r.tagName==="IFRAME"&&t.attributeName==="src"&&!this.keepIframeSrcFn(n))if(!r.contentDocument)t.attributeName="rr_src";else return;if(o||(o={node:t.target,attributes:{}},this.attributes.push(o)),t.attributeName==="style"){const a=this.doc.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue),(o.attributes.style===void 0||o.attributes.style===null)&&(o.attributes.style={});const l=o.attributes.style;for(const s of Array.from(r.style)){const d=r.style.getPropertyValue(s),i=r.style.getPropertyPriority(s);(d!==a.style.getPropertyValue(s)||i!==a.style.getPropertyPriority(s))&&(i===""?l[s]=d:l[s]=[d,i])}for(const s of Array.from(a.style))r.style.getPropertyValue(s)===""&&(l[s]=!1)}else o.attributes[t.attributeName]=ot(this.doc,r.tagName,t.attributeName,n);break}case"childList":{if(Z(t.target,this.blockClass,this.blockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{const n=this.mirror.getId(r),o=ye(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Z(t.target,this.blockClass,this.blockSelector,!1)||_e(r,this.mirror)||!nr(r,this.mirror)||(this.addedSet.has(r)?(Be(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||dt(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[He(n,o)]?Be(this.movedSet,r):this.removes.push({parentId:o,id:n,isShadow:ye(t.target)&&Se(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(this.mirror.hasNode(t)){if(_e(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[He(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Z(t,this.blockClass,this.blockSelector,!1)||t.childNodes.forEach(n=>this.genAdds(n))}}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Be(e,t){e.delete(t),t.childNodes.forEach(r=>Be(e,r))}function Je(e,t,r){return e.length===0?!1:pt(e,t,r)}function pt(e,t,r){const{parentNode:n}=t;if(!n)return!1;const o=r.getId(n);return e.some(a=>a.id===o)?!0:pt(e,n,r)}function Qe(e,t){return e.size===0?!1:ht(e,t)}function ht(e,t){const{parentNode:r}=t;return r?e.has(r)?!0:ht(e,r):!1}const le=[],gt=typeof CSSGroupingRule<"u",mt=typeof CSSMediaRule<"u",It=typeof CSSSupportsRule<"u",Ct=typeof CSSConditionRule<"u";function ve(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0];return e.target}catch{return e.target}}function yt(e,t){var r,n;const o=new sr;le.push(o),o.init(e);let a=window.MutationObserver||window.__rrMutationObserver;const l=(n=(r=window==null?void 0:window.Zone)===null||r===void 0?void 0:r.__symbol__)===null||n===void 0?void 0:n.call(r,"MutationObserver");l&&window[l]&&(a=window[l]);const s=new a(o.processMutations.bind(o));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function dr({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};const o=typeof t.mousemove=="number"?t.mousemove:50,a=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let l=[],s;const d=Ae(c=>{const p=Date.now()-s;e(l.map(h=>(h.timeOffset-=p,h)),c),l=[],s=null},a),i=Ae(c=>{const p=ve(c),{clientX:h,clientY:f}=lt(c)?c.changedTouches[0]:c;s||(s=Date.now()),l.push({x:h,y:f,id:n.getId(p),timeOffset:Date.now()-s}),d(typeof DragEvent<"u"&&c instanceof DragEvent?A.Drag:c instanceof MouseEvent?A.MouseMove:A.TouchMove)},o,{trailing:!1}),u=[G("mousemove",i,r),G("touchmove",i,r),G("drag",i,r)];return()=>{u.forEach(c=>c())}}function lr({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,sampling:a}){if(a.mouseInteraction===!1)return()=>{};const l=a.mouseInteraction===!0||a.mouseInteraction===void 0?{}:a.mouseInteraction,s=[],d=i=>u=>{const c=ve(u);if(Z(c,n,o,!0))return;const p=lt(u)?u.changedTouches[0]:u;if(!p)return;const h=r.getId(c),{clientX:f,clientY:I}=p;e({type:Ve[i],id:h,x:f,y:I})};return Object.keys(Ve).filter(i=>Number.isNaN(Number(i))&&!i.endsWith("_Departed")&&l[i]!==!1).forEach(i=>{const u=i.toLowerCase(),c=d(i);s.push(G(u,c,t))}),()=>{s.forEach(i=>i())}}function St({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,sampling:a}){const l=Ae(s=>{const d=ve(s);if(!d||Z(d,n,o,!0))return;const i=r.getId(d);if(d===t){const u=t.scrollingElement||t.documentElement;e({id:i,x:u.scrollLeft,y:u.scrollTop})}else e({id:i,x:d.scrollLeft,y:d.scrollTop})},a.scroll||100);return G("scroll",l,t)}function ur({viewportResizeCb:e}){let t=-1,r=-1;const n=Ae(()=>{const o=at(),a=st();(t!==o||r!==a)&&(e({width:Number(a),height:Number(o)}),t=o,r=a)},200);return G("resize",n,window)}function Pe(e,t){const r=Object.assign({},e);return t||delete r.userTriggered,r}const cr=["INPUT","TEXTAREA","SELECT"],Xe=new WeakMap;function fr({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,ignoreClass:a,maskInputOptions:l,maskInputFn:s,sampling:d,userTriggeredOnInput:i}){function u(C){let g=ve(C);const m=C.isTrusted;if(g&&g.tagName==="OPTION"&&(g=g.parentElement),!g||!g.tagName||cr.indexOf(g.tagName)<0||Z(g,n,o,!0))return;const w=g.type;if(g.classList.contains(a))return;let D=g.value,E=!1;w==="radio"||w==="checkbox"?E=g.checked:(l[g.tagName.toLowerCase()]||l[w])&&(D=Ge({maskInputOptions:l,tagName:g.tagName,type:w,value:D,maskInputFn:s})),c(g,Pe({text:D,isChecked:E,userTriggered:m},i));const L=g.name;w==="radio"&&L&&E&&t.querySelectorAll(`input[type="radio"][name="${L}"]`).forEach(S=>{S!==g&&c(S,Pe({text:S.value,isChecked:!E,userTriggered:!1},i))})}function c(C,g){const m=Xe.get(C);if(!m||m.text!==g.text||m.isChecked!==g.isChecked){Xe.set(C,g);const w=r.getId(C);e(Object.assign(Object.assign({},g),{id:w}))}}const h=(d.input==="last"?["change"]:["input","change"]).map(C=>G(C,u,t)),f=t.defaultView;if(!f)return()=>{h.forEach(C=>C())};const I=f.Object.getOwnPropertyDescriptor(f.HTMLInputElement.prototype,"value"),b=[[f.HTMLInputElement.prototype,"value"],[f.HTMLInputElement.prototype,"checked"],[f.HTMLSelectElement.prototype,"value"],[f.HTMLTextAreaElement.prototype,"value"],[f.HTMLSelectElement.prototype,"selectedIndex"],[f.HTMLOptionElement.prototype,"selected"]];return I&&I.set&&h.push(...b.map(C=>Ee(C[0],C[1],{set(){u({target:this})}},!1,f))),()=>{h.forEach(C=>C())}}function Oe(e){const t=[];function r(n,o){if(gt&&n.parentRule instanceof CSSGroupingRule||mt&&n.parentRule instanceof CSSMediaRule||It&&n.parentRule instanceof CSSSupportsRule||Ct&&n.parentRule instanceof CSSConditionRule){const l=Array.from(n.parentRule.cssRules).indexOf(n);o.unshift(l)}else if(n.parentStyleSheet){const l=Array.from(n.parentStyleSheet.cssRules).indexOf(n);o.unshift(l)}return o}return r(e,t)}function de(e,t,r){let n,o;return e?(e.ownerNode?n=t.getId(e.ownerNode):o=r.getId(e),{styleId:o,id:n}):{}}function pr({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){const o=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=function(u,c){const{id:p,styleId:h}=de(this,t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,adds:[{rule:u,index:c}]}),o.apply(this,[u,c])};const a=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=function(u){const{id:c,styleId:p}=de(this,t,r.styleMirror);return(c&&c!==-1||p&&p!==-1)&&e({id:c,styleId:p,removes:[{index:u}]}),a.apply(this,[u])};let l;n.CSSStyleSheet.prototype.replace&&(l=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=function(u){const{id:c,styleId:p}=de(this,t,r.styleMirror);return(c&&c!==-1||p&&p!==-1)&&e({id:c,styleId:p,replace:u}),l.apply(this,[u])});let s;n.CSSStyleSheet.prototype.replaceSync&&(s=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=function(u){const{id:c,styleId:p}=de(this,t,r.styleMirror);return(c&&c!==-1||p&&p!==-1)&&e({id:c,styleId:p,replaceSync:u}),s.apply(this,[u])});const d={};gt?d.CSSGroupingRule=n.CSSGroupingRule:(mt&&(d.CSSMediaRule=n.CSSMediaRule),Ct&&(d.CSSConditionRule=n.CSSConditionRule),It&&(d.CSSSupportsRule=n.CSSSupportsRule));const i={};return Object.entries(d).forEach(([u,c])=>{i[u]={insertRule:c.prototype.insertRule,deleteRule:c.prototype.deleteRule},c.prototype.insertRule=function(p,h){const{id:f,styleId:I}=de(this.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||I&&I!==-1)&&e({id:f,styleId:I,adds:[{rule:p,index:[...Oe(this),h||0]}]}),i[u].insertRule.apply(this,[p,h])},c.prototype.deleteRule=function(p){const{id:h,styleId:f}=de(this.parentStyleSheet,t,r.styleMirror);return(h&&h!==-1||f&&f!==-1)&&e({id:h,styleId:f,removes:[{index:[...Oe(this),p]}]}),i[u].deleteRule.apply(this,[p])}}),()=>{n.CSSStyleSheet.prototype.insertRule=o,n.CSSStyleSheet.prototype.deleteRule=a,l&&(n.CSSStyleSheet.prototype.replace=l),s&&(n.CSSStyleSheet.prototype.replaceSync=s),Object.entries(d).forEach(([u,c])=>{c.prototype.insertRule=i[u].insertRule,c.prototype.deleteRule=i[u].deleteRule})}}function bt({mirror:e,stylesheetManager:t},r){var n,o,a;let l=null;r.nodeName==="#document"?l=e.getId(r):l=e.getId(r.host);const s=r.nodeName==="#document"?(n=r.defaultView)===null||n===void 0?void 0:n.Document:(a=(o=r.ownerDocument)===null||o===void 0?void 0:o.defaultView)===null||a===void 0?void 0:a.ShadowRoot,d=Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets");return l===null||l===-1||!s||!d?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:d.configurable,enumerable:d.enumerable,get(){var i;return(i=d.get)===null||i===void 0?void 0:i.call(this)},set(i){var u;const c=(u=d.set)===null||u===void 0?void 0:u.call(this,i);if(l!==null&&l!==-1)try{t.adoptStyleSheets(i,l)}catch{}return c}}),()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:d.configurable,enumerable:d.enumerable,get:d.get,set:d.set})})}function hr({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:o}){const a=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=function(s,d,i){var u;if(r.has(s))return a.apply(this,[s,d,i]);const{id:c,styleId:p}=de((u=this.parentRule)===null||u===void 0?void 0:u.parentStyleSheet,t,n.styleMirror);return(c&&c!==-1||p&&p!==-1)&&e({id:c,styleId:p,set:{property:s,value:d,priority:i},index:Oe(this.parentRule)}),a.apply(this,[s,d,i])};const l=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=function(s){var d;if(r.has(s))return l.apply(this,[s]);const{id:i,styleId:u}=de((d=this.parentRule)===null||d===void 0?void 0:d.parentStyleSheet,t,n.styleMirror);return(i&&i!==-1||u&&u!==-1)&&e({id:i,styleId:u,remove:{property:s},index:Oe(this.parentRule)}),l.apply(this,[s])},()=>{o.CSSStyleDeclaration.prototype.setProperty=a,o.CSSStyleDeclaration.prototype.removeProperty=l}}function gr({mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:n,sampling:o}){const a=s=>Ae(d=>{const i=ve(d);if(!i||Z(i,t,r,!0))return;const{currentTime:u,volume:c,muted:p,playbackRate:h}=i;e({type:s,id:n.getId(i),currentTime:u,volume:c,muted:p,playbackRate:h})},o.media||500),l=[G("play",a(0)),G("pause",a(1)),G("seeked",a(2)),G("volumechange",a(3)),G("ratechange",a(4))];return()=>{l.forEach(s=>s())}}function mr({fontCb:e,doc:t}){const r=t.defaultView;if(!r)return()=>{};const n=[],o=new WeakMap,a=r.FontFace;r.FontFace=function(d,i,u){const c=new a(d,i,u);return o.set(c,{family:d,buffer:typeof i!="string",descriptors:u,fontSource:typeof i=="string"?i:JSON.stringify(Array.from(new Uint8Array(i)))}),c};const l=me(t.fonts,"add",function(s){return function(d){return setTimeout(()=>{const i=o.get(d);i&&(e(i),o.delete(d))},0),s.apply(this,[d])}});return n.push(()=>{r.FontFace=a}),n.push(l),()=>{n.forEach(s=>s())}}function Ir(e){const{doc:t,mirror:r,blockClass:n,blockSelector:o,selectionCb:a}=e;let l=!0;const s=()=>{const d=t.getSelection();if(!d||l&&(d!=null&&d.isCollapsed))return;l=d.isCollapsed||!1;const i=[],u=d.rangeCount||0;for(let c=0;c<u;c++){const p=d.getRangeAt(c),{startContainer:h,startOffset:f,endContainer:I,endOffset:b}=p;Z(h,n,o,!0)||Z(I,n,o,!0)||i.push({start:r.getId(h),startOffset:f,end:r.getId(I),endOffset:b})}a({ranges:i})};return s(),G("selectionchange",s)}function Cr(e,t){const{mutationCb:r,mousemoveCb:n,mouseInteractionCb:o,scrollCb:a,viewportResizeCb:l,inputCb:s,mediaInteractionCb:d,styleSheetRuleCb:i,styleDeclarationCb:u,canvasMutationCb:c,fontCb:p,selectionCb:h}=e;e.mutationCb=(...f)=>{t.mutation&&t.mutation(...f),r(...f)},e.mousemoveCb=(...f)=>{t.mousemove&&t.mousemove(...f),n(...f)},e.mouseInteractionCb=(...f)=>{t.mouseInteraction&&t.mouseInteraction(...f),o(...f)},e.scrollCb=(...f)=>{t.scroll&&t.scroll(...f),a(...f)},e.viewportResizeCb=(...f)=>{t.viewportResize&&t.viewportResize(...f),l(...f)},e.inputCb=(...f)=>{t.input&&t.input(...f),s(...f)},e.mediaInteractionCb=(...f)=>{t.mediaInteaction&&t.mediaInteaction(...f),d(...f)},e.styleSheetRuleCb=(...f)=>{t.styleSheetRule&&t.styleSheetRule(...f),i(...f)},e.styleDeclarationCb=(...f)=>{t.styleDeclaration&&t.styleDeclaration(...f),u(...f)},e.canvasMutationCb=(...f)=>{t.canvasMutation&&t.canvasMutation(...f),c(...f)},e.fontCb=(...f)=>{t.font&&t.font(...f),p(...f)},e.selectionCb=(...f)=>{t.selection&&t.selection(...f),h(...f)}}function yr(e,t={}){const r=e.doc.defaultView;if(!r)return()=>{};Cr(e,t);const n=yt(e,e.doc),o=dr(e),a=lr(e),l=St(e),s=ur(e),d=fr(e),i=gr(e),u=pr(e,{win:r}),c=bt(e,e.doc),p=hr(e,{win:r}),h=e.collectFonts?mr(e):()=>{},f=Ir(e),I=[];for(const b of e.plugins)I.push(b.observer(b.callback,r,b.options));return()=>{le.forEach(b=>b.reset()),n.disconnect(),o(),a(),l(),s(),d(),i(),u(),c(),p(),h(),f(),I.forEach(b=>b())}}class je{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,o){const a=n||this.getIdToRemoteIdMap(t),l=o||this.getRemoteIdToIdMap(t);let s=a.get(r);return s||(s=this.generateIdFn(),a.set(r,s),l.set(s,r)),s}getIds(t,r){const n=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return r.map(a=>this.getId(t,a,n,o))}getRemoteId(t,r,n){const o=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;const a=o.get(r);return a||-1}getRemoteIds(t,r){const n=this.getRemoteIdToIdMap(t);return r.map(o=>this.getRemoteId(t,o,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}}class Sr{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new je(nt),this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new je(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(n=this.loadListener)===null||n===void 0||n.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){if(t.data.type==="rrweb"){if(!t.source)return;const n=this.crossOriginIframeMap.get(t.source);if(!n)return;const o=this.transformCrossOriginEvent(n,t.data.event);o&&this.wrappedEmit(o,t.data.isCheckout)}}transformCrossOriginEvent(t,r){var n;switch(r.type){case k.FullSnapshot:return this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t),{timestamp:r.timestamp,type:k.IncrementalSnapshot,data:{source:A.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case k.Meta:case k.Load:case k.DomContentLoaded:return!1;case k.Plugin:return r;case k.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case k.IncrementalSnapshot:switch(r.data.source){case A.Mutation:return r.data.adds.forEach(o=>{this.replaceIds(o,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(o.node,t)}),r.data.removes.forEach(o=>{this.replaceIds(o,t,["parentId","id"])}),r.data.attributes.forEach(o=>{this.replaceIds(o,t,["id"])}),r.data.texts.forEach(o=>{this.replaceIds(o,t,["id"])}),r;case A.Drag:case A.TouchMove:case A.MouseMove:return r.data.positions.forEach(o=>{this.replaceIds(o,t,["id"])}),r;case A.ViewportResize:return!1;case A.MediaInteraction:case A.MouseInteraction:case A.Scroll:case A.CanvasMutation:case A.Input:return this.replaceIds(r.data,t,["id"]),r;case A.StyleSheetRule:case A.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case A.Font:return r;case A.Selection:return r.data.ranges.forEach(o=>{this.replaceIds(o,t,["start","end"])}),r;case A.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),(n=r.data.styles)===null||n===void 0||n.forEach(o=>{this.replaceStyleIds(o,t,["styleId"])}),r}}}replace(t,r,n,o){for(const a of o)!Array.isArray(r[a])&&typeof r[a]!="number"||(Array.isArray(r[a])?r[a]=t.getIds(n,r[a]):r[a]=t.getId(n,r[a]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}}class br{constructor(t){this.shadowDoms=new WeakSet,this.restorePatches=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror;const r=this;this.restorePatches.push(me(Element.prototype,"attachShadow",function(n){return function(o){const a=n.call(this,o);return this.shadowRoot&&r.addShadowRoot(this.shadowRoot,this.ownerDocument),a}}))}addShadowRoot(t,r){Se(t)&&(this.shadowDoms.has(t)||(this.shadowDoms.add(t),yt(Object.assign(Object.assign({},this.bypassOptions),{doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t),St(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),bt({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t)},0)))}observeAttachShadow(t){if(t.contentWindow){const r=this;this.restorePatches.push(me(t.contentWindow.HTMLElement.prototype,"attachShadow",function(n){return function(o){const a=n.call(this,o);return this.shadowRoot&&r.addShadowRoot(this.shadowRoot,t.contentDocument),a}}))}}reset(){this.restorePatches.forEach(t=>t()),this.shadowDoms=new WeakSet}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ar(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function vr(e,t,r,n){function o(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function s(u){try{i(n.next(u))}catch(c){l(c)}}function d(u){try{i(n.throw(u))}catch(c){l(c)}}function i(u){u.done?a(u.value):o(u.value).then(s,d)}i((n=n.apply(e,[])).next())})}var ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var we=0;we<ge.length;we++)kr[ge.charCodeAt(we)]=we;var wr=function(e){var t=new Uint8Array(e),r,n=t.length,o="";for(r=0;r<n;r+=3)o+=ge[t[r]>>2],o+=ge[(t[r]&3)<<4|t[r+1]>>4],o+=ge[(t[r+1]&15)<<2|t[r+2]>>6],o+=ge[t[r+2]&63];return n%3===2?o=o.substring(0,o.length-1)+"=":n%3===1&&(o=o.substring(0,o.length-2)+"=="),o};const qe=new Map;function Mr(e,t){let r=qe.get(e);return r||(r=new Map,qe.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}const At=(e,t,r)=>{if(!e||!(kt(e,t)||typeof e=="object"))return;const n=e.constructor.name,o=Mr(r,n);let a=o.indexOf(e);return a===-1&&(a=o.length,o.push(e)),a};function Me(e,t,r){if(e instanceof Array)return e.map(n=>Me(n,t,r));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const n=e.constructor.name,o=wr(e);return{rr_type:n,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Me(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const n=e.constructor.name,{src:o}=e;return{rr_type:n,src:o}}else if(e instanceof HTMLCanvasElement){const n="HTMLImageElement",o=e.toDataURL();return{rr_type:n,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Me(e.data,t,r),e.width,e.height]};if(kt(e,t)||typeof e=="object"){const n=e.constructor.name,o=At(e,t,r);return{rr_type:n,index:o}}}}return e}const vt=(e,t,r)=>[...e].map(n=>Me(n,t,r)),kt=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function Nr(e,t,r,n){const o=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const l of a)try{if(typeof t.CanvasRenderingContext2D.prototype[l]!="function")continue;const s=me(t.CanvasRenderingContext2D.prototype,l,function(d){return function(...i){return Z(this.canvas,r,n,!0)||setTimeout(()=>{const u=vt([...i],t,this);e(this.canvas,{type:Ie["2D"],property:l,args:u})},0),d.apply(this,i)}});o.push(s)}catch{const d=Ee(t.CanvasRenderingContext2D.prototype,l,{set(i){e(this.canvas,{type:Ie["2D"],property:l,args:[i],setter:!0})}});o.push(d)}return()=>{o.forEach(l=>l())}}function $e(e,t,r){const n=[];try{const o=me(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(l,...s){return Z(this,t,r,!0)||"__context"in this||(this.__context=l),a.apply(this,[l,...s])}});n.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{n.forEach(o=>o())}}function et(e,t,r,n,o,a,l){const s=[],d=Object.getOwnPropertyNames(e);for(const i of d)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(i))try{if(typeof e[i]!="function")continue;const u=me(e,i,function(c){return function(...p){const h=c.apply(this,p);if(At(h,l,this),!Z(this.canvas,n,o,!0)){const f=vt([...p],l,this),I={type:t,property:i,args:f};r(this.canvas,I)}return h}});s.push(u)}catch{const c=Ee(e,i,{set(p){r(this.canvas,{type:t,property:i,args:[p],setter:!0})}});s.push(c)}return s}function Tr(e,t,r,n,o){const a=[];return a.push(...et(t.WebGLRenderingContext.prototype,Ie.WebGL,e,r,n,o,t)),typeof t.WebGL2RenderingContext<"u"&&a.push(...et(t.WebGL2RenderingContext.prototype,Ie.WebGL2,e,r,n,o,t)),()=>{a.forEach(l=>l())}}var wt=null;try{var Rr=typeof module<"u"&&typeof module.require=="function"&&module.require("worker_threads")||typeof __non_webpack_require__=="function"&&__non_webpack_require__("worker_threads")||typeof require=="function"&&require("worker_threads");wt=Rr.Worker}catch{}function Or(e,t){return Buffer.from(e,"base64").toString("utf8")}function Fr(e,t,r){var n=Or(e),o=n.indexOf(`
`,10)+1,a=n.substring(o)+"";return function(s){return new wt(a,Object.assign({},s,{eval:!0}))}}function Er(e,t){var r=atob(e);return r}function Lr(e,t,r){var n=Er(e),o=n.indexOf(`
`,10)+1,a=n.substring(o)+"",l=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(l)}function xr(e,t,r){var n;return function(a){return n=n||Lr(e),new Worker(n,a)}}var _r=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";function Dr(){return _r}function Wr(e,t,r){return Dr()?Fr(e):xr(e)}var Vr=Wr("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLg0KDQogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55DQogICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLg0KDQogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgNCiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkNCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsDQogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NDQogICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1INCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SDQogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4NCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLw0KDQogICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgew0KICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH0NCiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOw0KICAgICAgICB9KTsNCiAgICB9CgogICAgLyoKICAgICAqIGJhc2U2NC1hcnJheWJ1ZmZlciAxLjAuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlcj4KICAgICAqIENvcHlyaWdodCAoYykgMjAyMSBOaWtsYXMgdm9uIEhlcnR6ZW4gPGh0dHBzOi8vaGVydHplbi5jb20+CiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZQogICAgICovCiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7CiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguCiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7CiAgICB9CiAgICB2YXIgZW5jb2RlID0gZnVuY3Rpb24gKGFycmF5YnVmZmVyKSB7CiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykgewogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107CiAgICAgICAgfQogICAgICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJhc2U2NDsKICAgIH07CgogICAgY29uc3QgbGFzdEJsb2JNYXAgPSBuZXcgTWFwKCk7DQogICAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGZ1bmN0aW9uIGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucykgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRyYW5zcGFyZW50QmxvYk1hcC5oYXMoaWQpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsNCiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICBiaXRtYXAuY2xvc2UoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsNCiAgICAgICAgICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgKHlpZWxkIHRyYW5zcGFyZW50QmFzZTY0KSA9PT0gYmFzZTY0KSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHR5cGUsDQogICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=");class Br{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(d,i)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(i)};const{sampling:r="all",win:n,blockClass:o,blockSelector:a,recordCanvas:l,dataURLOptions:s}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,l&&r==="all"&&this.initCanvasMutationObserver(n,o,a),l&&typeof r=="number"&&this.initCanvasFPSObserver(r,n,o,a,{dataURLOptions:s})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(t,r,n,o,a){const l=$e(r,n,o),s=new Map,d=new Vr;d.onmessage=f=>{const{id:I}=f.data;if(s.set(I,!1),!("base64"in f.data))return;const{base64:b,type:C,width:g,height:m}=f.data;this.mutationCb({id:I,type:Ie["2D"],commands:[{property:"clearRect",args:[0,0,g,m]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:b}],type:C}]},0,0]}]})};const i=1e3/t;let u=0,c;const p=()=>{const f=[];return r.document.querySelectorAll("canvas").forEach(I=>{Z(I,n,o,!0)||f.push(I)}),f},h=f=>{if(u&&f-u<i){c=requestAnimationFrame(h);return}u=f,p().forEach(I=>vr(this,void 0,void 0,function*(){var b;const C=this.mirror.getId(I);if(s.get(C))return;if(s.set(C,!0),["webgl","webgl2"].includes(I.__context)){const m=I.getContext(I.__context);((b=m==null?void 0:m.getContextAttributes())===null||b===void 0?void 0:b.preserveDrawingBuffer)===!1&&(m==null||m.clear(m.COLOR_BUFFER_BIT))}const g=yield createImageBitmap(I);d.postMessage({id:C,bitmap:g,width:I.width,height:I.height,dataURLOptions:a.dataURLOptions},[g])})),c=requestAnimationFrame(h)};c=requestAnimationFrame(h),this.resetObservers=()=>{l(),cancelAnimationFrame(c)}}initCanvasMutationObserver(t,r,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const o=$e(t,r,n),a=Nr(this.processMutation.bind(this),t,r,n),l=Tr(this.processMutation.bind(this),t,r,n,this.mirror);this.resetObservers=()=>{o(),a(),l()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=r=>{this.rafStamps.latestId=r,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,r)=>{const n=this.mirror.getId(r);this.flushPendingCanvasMutationFor(r,n)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,r){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||r===-1)return;const o=n.map(l=>Ar(l,["type"])),{type:a}=n[0];this.mutationCb({id:r,type:a,commands:o}),this.pendingCanvasMutations.delete(t)}}class Gr{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new ir,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;const n={id:r,styleIds:[]},o=[];for(const a of t){let l;if(this.styleMirror.has(a))l=this.styleMirror.getId(a);else{l=this.styleMirror.add(a);const s=Array.from(a.rules||CSSRule);o.push({styleId:l,rules:s.map((d,i)=>({rule:tt(d),index:i}))})}n.styleIds.push(l)}o.length>0&&(n.styles=o),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}function _(e){return Object.assign(Object.assign({},e),{timestamp:Date.now()})}let O,Ne,De,Fe=!1;const re=xt();function ke(e={}){const{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:o="rr-block",blockSelector:a=null,ignoreClass:l="rr-ignore",maskTextClass:s="rr-mask",maskTextSelector:d=null,inlineStylesheet:i=!0,maskAllInputs:u,maskInputOptions:c,slimDOMOptions:p,maskInputFn:h,maskTextFn:f,hooks:I,packFn:b,sampling:C={},dataURLOptions:g={},mousemoveWait:m,recordCanvas:w=!1,recordCrossOriginIframes:D=!1,userTriggeredOnInput:E=!1,collectFonts:L=!1,inlineImages:S=!1,plugins:H,keepIframeSrcFn:J=()=>!1,ignoreCSSAttributes:j=new Set([])}=e,q=D?window.parent===window:!0;let $=!1;if(!q)try{window.parent.document,$=!1}catch{$=!0}if(q&&!t)throw new Error("emit function is required");m!==void 0&&C.mousemove===void 0&&(C.mousemove=m),re.reset();const x=u===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:c!==void 0?c:{password:!0},Q=p===!0||p==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:p==="all",headMetaDescKeywords:p==="all"}:p||{};or();let ee,ne=0;const ae=y=>{for(const V of H||[])V.eventProcessor&&(y=V.eventProcessor(y));return b&&(y=b(y)),y};O=(y,V)=>{var K;if(!((K=le[0])===null||K===void 0)&&K.isFrozen()&&y.type!==k.FullSnapshot&&!(y.type===k.IncrementalSnapshot&&y.data.source===A.Mutation)&&le.forEach(R=>R.unfreeze()),q)t==null||t(ae(y),V);else if($){const R={type:"rrweb",event:ae(y),isCheckout:V};window.parent.postMessage(R,"*")}if(y.type===k.FullSnapshot)ee=y,ne=0;else if(y.type===k.IncrementalSnapshot){if(y.data.source===A.Mutation&&y.data.isAttachIframe)return;ne++;const R=n&&ne>=n,X=r&&y.timestamp-ee.timestamp>r;(R||X)&&Ne(!0)}};const U=y=>{O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.Mutation},y)}))},P=y=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.Scroll},y)})),se=y=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.CanvasMutation},y)})),F=y=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.AdoptedStyleSheet},y)})),te=new Gr({mutationCb:U,adoptedStyleSheetCb:F}),oe=new Sr({mirror:re,mutationCb:U,stylesheetManager:te,recordCrossOriginIframes:D,wrappedEmit:O});for(const y of H||[])y.getMirror&&y.getMirror({nodeMirror:re,crossOriginIframeMirror:oe.crossOriginIframeMirror,crossOriginIframeStyleMirror:oe.crossOriginIframeStyleMirror});De=new Br({recordCanvas:w,mutationCb:se,win:window,blockClass:o,blockSelector:a,mirror:re,sampling:C.canvas,dataURLOptions:g});const ue=new br({mutationCb:U,scrollCb:P,bypassOptions:{blockClass:o,blockSelector:a,maskTextClass:s,maskTextSelector:d,inlineStylesheet:i,maskInputOptions:x,dataURLOptions:g,maskTextFn:f,maskInputFn:h,recordCanvas:w,inlineImages:S,sampling:C,slimDOMOptions:Q,iframeManager:oe,stylesheetManager:te,canvasManager:De,keepIframeSrcFn:J},mirror:re});Ne=(y=!1)=>{var V,K,R,X,M,z;O(_({type:k.Meta,data:{href:window.location.href,width:st(),height:at()}}),y),te.reset(),le.forEach(B=>B.lock());const Ce=rr(document,{mirror:re,blockClass:o,blockSelector:a,maskTextClass:s,maskTextSelector:d,inlineStylesheet:i,maskAllInputs:x,maskTextFn:f,slimDOM:Q,dataURLOptions:g,recordCanvas:w,inlineImages:S,onSerialize:B=>{ut(B,re)&&oe.addIframe(B),ct(B,re)&&te.trackLinkElement(B),ft(B)&&ue.addShadowRoot(B.shadowRoot,document)},onIframeLoad:(B,Le)=>{oe.attachIframe(B,Le),ue.observeAttachShadow(B)},onStylesheetLoad:(B,Le)=>{te.attachLinkElement(B,Le)},keepIframeSrcFn:J});if(!Ce)return console.warn("Failed to snapshot the document");O(_({type:k.FullSnapshot,data:{node:Ce,initialOffset:{left:window.pageXOffset!==void 0?window.pageXOffset:(document==null?void 0:document.documentElement.scrollLeft)||((K=(V=document==null?void 0:document.body)===null||V===void 0?void 0:V.parentElement)===null||K===void 0?void 0:K.scrollLeft)||((R=document==null?void 0:document.body)===null||R===void 0?void 0:R.scrollLeft)||0,top:window.pageYOffset!==void 0?window.pageYOffset:(document==null?void 0:document.documentElement.scrollTop)||((M=(X=document==null?void 0:document.body)===null||X===void 0?void 0:X.parentElement)===null||M===void 0?void 0:M.scrollTop)||((z=document==null?void 0:document.body)===null||z===void 0?void 0:z.scrollTop)||0}}})),le.forEach(B=>B.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&te.adoptStyleSheets(document.adoptedStyleSheets,re.getId(document))};try{const y=[];y.push(G("DOMContentLoaded",()=>{O(_({type:k.DomContentLoaded,data:{}}))}));const V=R=>{var X;return yr({mutationCb:U,mousemoveCb:(M,z)=>O(_({type:k.IncrementalSnapshot,data:{source:z,positions:M}})),mouseInteractionCb:M=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.MouseInteraction},M)})),scrollCb:P,viewportResizeCb:M=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.ViewportResize},M)})),inputCb:M=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.Input},M)})),mediaInteractionCb:M=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.MediaInteraction},M)})),styleSheetRuleCb:M=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.StyleSheetRule},M)})),styleDeclarationCb:M=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.StyleDeclaration},M)})),canvasMutationCb:se,fontCb:M=>O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.Font},M)})),selectionCb:M=>{O(_({type:k.IncrementalSnapshot,data:Object.assign({source:A.Selection},M)}))},blockClass:o,ignoreClass:l,maskTextClass:s,maskTextSelector:d,maskInputOptions:x,inlineStylesheet:i,sampling:C,recordCanvas:w,inlineImages:S,userTriggeredOnInput:E,collectFonts:L,doc:R,maskInputFn:h,maskTextFn:f,keepIframeSrcFn:J,blockSelector:a,slimDOMOptions:Q,dataURLOptions:g,mirror:re,iframeManager:oe,stylesheetManager:te,shadowDomManager:ue,canvasManager:De,ignoreCSSAttributes:j,plugins:((X=H==null?void 0:H.filter(M=>M.observer))===null||X===void 0?void 0:X.map(M=>({observer:M.observer,options:M.options,callback:z=>O(_({type:k.Plugin,data:{plugin:M.name,payload:z}}))})))||[]},I)};oe.addLoadListener(R=>{y.push(V(R.contentDocument))});const K=()=>{Ne(),y.push(V(document)),Fe=!0};return document.readyState==="interactive"||document.readyState==="complete"?K():y.push(G("load",()=>{O(_({type:k.Load,data:{}})),K()},window)),()=>{y.forEach(R=>R()),Fe=!1}}catch(y){console.warn(y)}}ke.addCustomEvent=(e,t)=>{if(!Fe)throw new Error("please add custom event after start recording");O(_({type:k.Custom,data:{tag:e,payload:t}}))};ke.freezePage=()=>{le.forEach(e=>e.freeze())};ke.takeFullSnapshot=e=>{if(!Fe)throw new Error("please take full snapshot after start recording");Ne(e)};ke.mirror=re;const Zr={id:"record"},Ur={class:"button-wrap"},Yr=Nt({__name:"RecordScreen",setup(e){const t=Mt(),r=[];let n;const o=Tt({name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),a=()=>{console.log("submit!")},l=()=>{n=ke({emit:d=>{console.log("event",JSON.stringify(d)),r.push(d)},recordCanvas:!0})},s=()=>{n&&(n(),t.setEvents(r))};return(d,i)=>{const u=Y("el-button"),c=Y("el-input"),p=Y("el-form-item"),h=Y("el-option"),f=Y("el-select"),I=Y("el-date-picker"),b=Y("el-col"),C=Y("el-time-picker"),g=Y("el-switch"),m=Y("el-checkbox"),w=Y("el-checkbox-group"),D=Y("el-radio"),E=Y("el-radio-group"),L=Y("el-form");return Rt(),Ot("div",Zr,[xe("div",Ur,[v(u,{type:"primary",onClick:l},{default:T(()=>i[8]||(i[8]=[ie("开始录制")])),_:1}),v(u,{type:"primary",onClick:s},{default:T(()=>i[9]||(i[9]=[ie("结束录制")])),_:1})]),i[19]||(i[19]=xe("h2",null,"form",-1)),v(L,{model:o,"label-width":"auto",style:{"max-width":"600px"}},{default:T(()=>[v(p,{label:"Activity name"},{default:T(()=>[v(c,{modelValue:o.name,"onUpdate:modelValue":i[0]||(i[0]=S=>o.name=S)},null,8,["modelValue"])]),_:1}),v(p,{label:"Activity zone"},{default:T(()=>[v(f,{modelValue:o.region,"onUpdate:modelValue":i[1]||(i[1]=S=>o.region=S),placeholder:"please select your zone"},{default:T(()=>[v(h,{label:"Zone one",value:"shanghai"}),v(h,{label:"Zone two",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),v(p,{label:"Activity time"},{default:T(()=>[v(b,{span:11},{default:T(()=>[v(I,{modelValue:o.date1,"onUpdate:modelValue":i[2]||(i[2]=S=>o.date1=S),type:"date",placeholder:"Pick a date",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),v(b,{span:2,class:"text-center"},{default:T(()=>i[10]||(i[10]=[xe("span",{class:"text-gray-500"},"-",-1)])),_:1}),v(b,{span:11},{default:T(()=>[v(C,{modelValue:o.date2,"onUpdate:modelValue":i[3]||(i[3]=S=>o.date2=S),placeholder:"Pick a time",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),v(p,{label:"Instant delivery"},{default:T(()=>[v(g,{modelValue:o.delivery,"onUpdate:modelValue":i[4]||(i[4]=S=>o.delivery=S)},null,8,["modelValue"])]),_:1}),v(p,{label:"Activity type"},{default:T(()=>[v(w,{modelValue:o.type,"onUpdate:modelValue":i[5]||(i[5]=S=>o.type=S)},{default:T(()=>[v(m,{value:"Online activities",name:"type"},{default:T(()=>i[11]||(i[11]=[ie(" Online activities ")])),_:1}),v(m,{value:"Promotion activities",name:"type"},{default:T(()=>i[12]||(i[12]=[ie(" Promotion activities ")])),_:1}),v(m,{value:"Offline activities",name:"type"},{default:T(()=>i[13]||(i[13]=[ie(" Offline activities ")])),_:1}),v(m,{value:"Simple brand exposure",name:"type"},{default:T(()=>i[14]||(i[14]=[ie(" Simple brand exposure ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),v(p,{label:"Resources"},{default:T(()=>[v(E,{modelValue:o.resource,"onUpdate:modelValue":i[6]||(i[6]=S=>o.resource=S)},{default:T(()=>[v(D,{value:"Sponsor"},{default:T(()=>i[15]||(i[15]=[ie("Sponsor")])),_:1}),v(D,{value:"Venue"},{default:T(()=>i[16]||(i[16]=[ie("Venue")])),_:1})]),_:1},8,["modelValue"])]),_:1}),v(p,{label:"Activity form"},{default:T(()=>[v(c,{modelValue:o.desc,"onUpdate:modelValue":i[7]||(i[7]=S=>o.desc=S),type:"textarea"},null,8,["modelValue"])]),_:1}),v(p,null,{default:T(()=>[v(u,{type:"primary",onClick:a},{default:T(()=>i[17]||(i[17]=[ie("Create")])),_:1}),v(u,null,{default:T(()=>i[18]||(i[18]=[ie("Cancel")])),_:1})]),_:1})]),_:1},8,["model"])])}}});export{Yr as default};
